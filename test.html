<!DOCTYPE html>
<html>
<head>
  <title>×‘×“×™×§×ª WebSocket</title>
</head>
<body>
  <h2>×‘×“×™×§×ª ×—×™×‘×•×¨ ×œ×©×¨×ª WebSocket</h2>
  <textarea id="log" rows="10" cols="50" readonly></textarea><br>
  <input id="msg" type="text" placeholder='×”×•×“×¢×” ×œ×©×œ×™×—×”'>
  <button onclick="sendMsg()">×©×œ×—</button>

  <script>
    const log = document.getElementById('log');
    const ws = new WebSocket('ws://10.100.102.24:3000');

    ws.onopen = () => log.value += 'ðŸ”— ×ž×—×•×‘×¨!\n';
    ws.onmessage = (e) => log.value += 'ðŸ“¨ ' + e.data + '\n';
    ws.onerror = (e) => log.value += 'âŒ ×©×’×™××”\n';
    ws.onclose = () => log.value += 'ðŸ”Œ × ×•×ª×§\n';

    function sendMsg() {
      const text = document.getElementById('msg').value;
      ws.send(text);
      log.value += 'ðŸ“¤ × ×©×œ×—: ' + text + '\n';
    }
  </script>
</body>
</html>
